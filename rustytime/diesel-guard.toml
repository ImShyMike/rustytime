# diesel-guard configuration file
# Copy this file to diesel-guard.toml and customize as needed

# Skip checking migrations created before this timestamp
# Useful for retrofitting diesel-guard into existing projects
# Accepted formats: YYYYMMDDHHMMSS, YYYY_MM_DD_HHMMSS, or YYYY-MM-DD-HHMMSS
# Works with any migration directory format regardless of separator style
#
# Skip migrations that use DO $$ blocks (TimescaleDB commands) which sqlparser can't parse
start_after = "2025-11-17-183758"

# Whether to check down.sql files in addition to up.sql
# Default: false
#
# Set to true if you want to ensure rollback migrations are also safe
check_down = true

# Disable specific safety checks
# Valid check names:
#   - AddColumnCheck          (ADD COLUMN with DEFAULT)
#   - AddIndexCheck           (CREATE INDEX without CONCURRENTLY)
#   - AddNotNullCheck         (ALTER COLUMN SET NOT NULL)
#   - AlterColumnTypeCheck    (ALTER COLUMN TYPE)
#   - DropColumnCheck         (DROP COLUMN)
disable_checks = ["DropColumnCheck", "RenameColumnCheck", "AlterColumnTypeCheck", "AddNotNullCheck", "AddColumnCheck", "DropIndexCheck", "AddIndexCheck"]
